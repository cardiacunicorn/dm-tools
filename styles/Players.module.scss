@import 'variables';

.player {
    position: relative;
    display: flex;
    flex-flow: row nowrap;
    justify-content: flex-start;
    width: 90vw;
    border-bottom: solid 2px $grey;
    padding: 1rem;

    font-family: $sans;

    .initiative_box {
        position: absolute;
        left: 0;
        top: 5rem;
        display: flex;
        flex-flow: column wrap;
        align-items: center;
        justify-content: center;

        h3 {
            margin: 0;
        }

        .current_init {
            font-size: 3rem;
        }
    }

    .profile {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        border-right: solid 1px $grey;
        width: 25rem;

        .profile_image {
            width: 100px;
            height: 100px;
        }

        h1, h2, h3 {
            margin: 0;
            text-align: center;
        }
    }

    .core_stats {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        border-right: solid 1px $grey;
        width: 16rem;

        font-size: 3.2rem;

        > * {
            display: flex;
            flex-flow: column wrap;
            align-items: center;
            justify-content: center;
            height: 50%;
        }

        .health {
            position: relative;
            display: flex;
            flex-flow: column wrap;
            .health_pool {
                display: flex;
                flex-flow: row nowrap;
                .hp {
                    position: relative;
                    width: 6rem;
                    height: 6rem;
                    color: $white;
    
                    .number_icon {
                        position: absolute;
                        width: 100%;
                        height: 100%;
                        z-index: 0;
                    }

                    .hp_current {
                        position: absolute;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        width: 100%;
                        height: 85%;
                        z-index: 1;
                    }
                }

                .pool_modifiers {
                    display: flex;
                    flex-flow: column wrap;
                    align-items: flex-end;
                    margin-left: 1rem;
                    .temp {
                        // margin-left: 1rem;
                        color: $blue;
                    }

                    .max {
                        display: flex;
                        flex-flow: row nowrap;
                        align-items: baseline;
                        justify-content: baseline;
                        span {
                            font-size: small;
                        }
                    }
                }
            }

            .max {
                // position: absolute;
                // bottom: 1.5rem;
                font-size: 2rem;
            }
        }

        .armor {
            display: flex;
            flex-direction: column;
            .ac {
                position: relative;
                width: 6rem;
                height: 6rem;
    
                img {
                    position: absolute;
                    width: 100%;
                    height: 100%;
                }
    
                .ac_current {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    width: 100%;
                    height: 85%;
                    z-index: 1;
                    font-size: 3rem;
                }
            }
    
            .armor_note {
                margin-top: 0.5rem;
                font-size: 1.4rem;
            }
        }
    }

    .secondary_stats {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

        border-right: solid 1px $grey;
        width: 10rem;

        h3 {
            margin-bottom: 0;
        }

        div {
            font-size: 2rem;
        }
    }

    .attributes {
        display: flex;
        flex-flow: column;
        width: 30rem;
        padding: 0.5rem;
        border-right: 1px solid $grey;

        font-family: $sans;

        .attribute_names {
            display: flex;
            flex-flow: row nowrap;
            justify-content: space-around;
            font-size: 1.6rem;

            > * {
                width: 3rem;
                height: 2rem;
            }
        }

        .attribute_scores {
            display: flex;
            flex-flow: row nowrap;
            align-items: center;
            justify-content: space-around;
            text-align: center;
            > * {
                width: 3rem;
                height: 4rem;
                font-size: 3rem;
            }
        }

        .saves {
            display: flex;
            flex-flow: row nowrap;
            align-items: center;
            justify-content: space-around;

            text-align: center;
            font-size: small;

            .save {
                border: 1px solid $grey;
                border-radius: 0.5rem;
                padding: 0.2rem 0.3rem;

                &.proficient {
                    border: 1px solid $blue;
                }
            }
        }

        .skill_list {
            display: flex;
            flex-flow: row wrap;
            align-items: flex-start;
            justify-content: flex-start;

            > * {
                margin: 0.3rem;
                border: 1px solid $grey;
                border-radius: 0.5rem;
                padding: 0.2rem 0.3rem;
            }

            .expert_skill {
                border-color: $purple;
            }

            .proficient_skill {
                border-color: $blue;
            }

            .half_proficient_skill {
                border-color: $green;
            }
        }
    }

    .firepower {
        display: flex;
        flex-flow: column wrap;

        width: 30rem;
        padding: 0 0.5rem;
        border-right: 1px solid $grey;

        h3 {
            margin-top: 0;
        }
    }

    .attacks_section {
        .attacks {
            .attack {
                display: flex;
                flex-flow: row wrap;
                align-items: center;
                justify-content: flex-start;
                margin-bottom: 0.5rem;

                .attack_name {
                    font-weight: bold;
                }

                .attack_notes {
                    text-indent: 1.5rem;;
                    .attack_note {
                        strong {
                            color: $white;
                        }
                    }
                }
            }
        }
    }

    .spellcasting {
        .spells {

        }
        .spell_levels {
            .spell_row {
                display: flex;
                flex-flow: row nowrap;
                align-items: center;
                justify-content: flex-end;
                gap: 0.5rem;

                .level_slots {
                    display: flex;
                    flex-flow: row nowrap;
                    align-items: center;
                    gap: 0.2rem;

                    .spellslot {
                        height: 100%;
                        display: inline-block;
                        position: relative;
                        padding-left: 1.4rem;
                        // margin-bottom: 12px;
                        cursor: pointer;
                        -webkit-user-select: none;
                        -moz-user-select: none;
                        -ms-user-select: none;
                        user-select: none;
    
                        > input {
                            position: absolute;
                            opacity: 0;
                            cursor: pointer;
                            height: 0;
                            width: 0;
    
                            &:checked {
                                ~ .checkmark {
                                    background-color: $red;
    
                                    // &:after {
                                    //     display: block;
                                    //     width: 100%;
                                    //     height: 100%;

                                    //     content: "";
                                    //     border: solid $grey;
                                    //     border-width: 0 0.2rem 0 0;
                                    //     -webkit-transform: rotate(45deg);
                                    //     -ms-transform: rotate(45deg);
                                    //     transform: rotate(45deg);
                                    // }
                                }
                            }
                        }
    
                        > span {
                            position: absolute;
                            top: -0.5rem;
                            left: 0;
                            height: 1.4rem;
                            width: 1.4rem;
                            background-color: $grey;
    
                            &:after {
                                content: "4";
                                position: absolute;
                                display: none;
                                text-align: center;
                            }
                        }
    
                        &:hover {
                            .checkmark {
                                background-color: $blue;
                            }
                        }
                    }
                }

                .spell_level {
                    display: inline-block;
                    width: 1rem;
                    font-size: 1.5rem;
                }
            }
        }
    }

    .features_section {
        display: flex;
        flex-flow: column wrap;

        width: 30rem;
        padding: 0 0.5rem;
        border-right: 1px solid $grey;

        h3 {
            margin-top: 0;
        }

        .features_list {
            .feature {
                position: relative;
                display: flex;
                flex-flow: row nowrap;
                align-items: center;
                justify-content: space-between;
                height: 3rem;
                margin-right: 1rem;

                .activation {
                    border-width: 1px;
                    border-style: solid;
                    border-radius: 2rem;
                    padding: 0.1rem 0.5rem;
                    text-align: center;
                    color: $white;

                    &.red {
                        background-color: $red;
                        border-color: $red;
                    }
                    &.blue {
                        background-color: $blue;
                        border-color: $blue;
                    }
                    &.orange {
                        background-color: $orange;
                        border-color: $orange;
                    }
                    &.purple {
                        background-color: $purple;
                        border-color: $purple;
                    }
                }

                .uses {
                    display: inline-block;

                    input {
                        width: 1.4rem;
                        margin: 0 0.2rem;
                    }
                }
                .feature_name {
                    display: inline-block;
                    cursor: pointer;
                    font-size: 1.4rem;

                    &:hover {
                        ~ .feature_effect {
                            display: block;
                        }
                    }
                }
                .feature_effect {
                    position: absolute;
                    top: 3rem;
                    z-index: 1;
                    width: 50rem;
                    display: none;
                    background-color: $grey;
                    border: 4px solid $orange;
                    padding: 1rem;
                    font-size: 1.6rem;
                    font-style: italic;
                    color: $white;
                }
            }
        }
    }

    .effects_section {
        display: flex;
        flex-flow: column wrap;

        width: 30rem;
        padding: 0 0.5rem;
    }
}